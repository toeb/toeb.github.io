<!DOCTYPE html>
<html lang="en-us">
<head>
    

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-177198277-1"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-177198277-1');
    </script>


    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <meta property="og:site_name" content="toeb&#39;s Blog">
    <meta property="og:type" content="article">

    
    <meta property="og:image" content="https://toeb.github.io//images/carbon.png">
    <meta property="twitter:image" content="https://toeb.github.io//images/carbon.png" />
    

    
    <meta name="title" content="Alternative `typedef` Syntax" />
    <meta property="og:title" content="Alternative `typedef` Syntax" />
    <meta property="twitter:title" content="Alternative `typedef` Syntax" />
    

    
    <meta name="description" content="An Alternative typedef Syntax using the C&#43;&#43; Preprocessor">
    <meta property="og:description" content="An Alternative typedef Syntax using the C&#43;&#43; Preprocessor" />
    <meta property="twitter:description" content="An Alternative typedef Syntax using the C&#43;&#43; Preprocessor" />
    

    
    <meta property="twitter:card" content="summary" />
    
    

    <meta name="keyword"  content="thetoeb, toeb, blog, programming">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>Alternative `typedef` Syntax-Toeb Blog</title>

    <link rel="canonical" href="/post/alternativetypedefsyntax/">

    <link rel="stylesheet" href="/css/iDisqus.min.css"/>
	
    
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    
    <link rel="stylesheet" href="/css/hux-blog.min.css">

    
    <link rel="stylesheet" href="/css/zanshang.css">
    
    
    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    
    

    
    
    <script src="/js/jquery.min.js"></script>
    
    
    <script src="/js/bootstrap.min.js"></script>
    
    
    <script src="/js/hux-blog.min.js"></script>

    
    

</head>



<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">toeb&#39;s Blog</a>
        </div>

        
        
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>
                    
                        
                        <li>
                            <a href="/categories/c">c#</a>
                        </li>
                        
                        <li>
                            <a href="/categories/c&#43;&#43;">c&#43;&#43;</a>
                        </li>
                        
                        <li>
                            <a href="/categories/cmake">cmake</a>
                        </li>
                        
                        <li>
                            <a href="/categories/frontend">frontend</a>
                        </li>
                        
                        <li>
                            <a href="/categories/obsolete">obsolete</a>
                        </li>
                        
                    
                    
		    
                        <li><a href="/top/about/">ABOUT</a></li>
                    

                    
                </ul>
            </div>
        </div>
        
    </div>
    
</nav>
<script>
    
    
    
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        
            $navbar.className = " ";
            
            setTimeout(function(){
                
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>




<style type="text/css">
    header.intro-header {
        background-image: url('/images/carbon.png')
    }
</style>
<header class="intro-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                        <a class="tag" href="/tags/c&#43;&#43;" title="C&#43;&#43;">
                            C&#43;&#43;
                        </a>
                        
                        <a class="tag" href="/tags/preprocessor" title="Preprocessor">
                            Preprocessor
                        </a>
                        
                        <a class="tag" href="/tags/deprecated" title="deprecated">
                            deprecated
                        </a>
                        
                    </div>
                    <h1>Alternative `typedef` Syntax</h1>
                    <h2 class="subheading"></h2>
                    <span class="meta">
                        Posted by 
                        
                                toeb&#39;s Blog
                         
                        on 
                        Monday, October 13, 2014
                        
                        
                        
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>




<article>
    <div class="container">
        <div class="row">

            
            <div class="
                col-lg-11 col-lg-offset-1
                col-md-10 col-md-offset-1
                post-container">

                
                <p><strong>Disclaimer: This post will be more interesting to you if you work with the preprocessor.</strong></p>
<p>Here you can find a preprocessor only solution for changing the <code>typedef</code> syntax from <code>typedef int number_type</code>; to <code>int typedef_as number_type</code>; – an alternative <code>typedef</code> Syntax.</p>
<p>If your wondering where this might be useful let me tell you why I needed it: I was working on a preprocessor macro which defines a property – a field, a getter and a setter. The easiest syntax I was able to achieve was the following: <code>typedef int property(MyValue)</code> which expanded into something similar to this:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C++" data-lang="C++"><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">int</span> MyValuePropertyType;
MyValuePropertyType _MyValue;
MyValuePropertyType <span style="color:#a6e22e">getMyValue</span>()<span style="color:#66d9ef">const</span>{<span style="color:#66d9ef">return</span> _MyValue;}
<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setMyValue</span>(<span style="color:#66d9ef">const</span> MyValuePropertyType <span style="color:#f92672">&amp;</span> value){_MyValue <span style="color:#f92672">=</span> value;}
</code></pre></div><p>The <code>typedef</code> at the beginning was not aesthetically pleasing and I wanted to get rid of it so that I would get the same functionality but with this syntax: <code>int property(MyValue)</code>. (By the way – I do not like passing the name to the macro either, but there is no workaround for that) So I am terribly proud that I can now present to you the solution for my <code>typedef_as</code> macro. /s (seriously: someone might find it useful for similar situations while working with the preprocessor):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C++" data-lang="C++"><span style="color:#75715e">// helper for getting preceeding type
</span><span style="color:#75715e"></span><span style="color:#75715e">#define TYPEDEF_AS_HELPER_NAME(NAME) __hiddenHelper_##NAME
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// inner macro for preceeding type typedef
</span><span style="color:#75715e"></span><span style="color:#75715e">#define TYPEDEF_AS_(NAME)\
</span><span style="color:#75715e">  static inline TYPEDEF_AS_HELPER_NAME(NAME)(){throw &#34;never call me&#34;;};\
</span><span style="color:#75715e">  typedef decltype(TYPEDEF_AS_HELPER_NAME(NAME)()) 
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// typedef_as
</span><span style="color:#75715e">// changes the original typdef syntax from: `typedef &lt;type&gt; &lt;type alias&gt;` to `&lt;type&gt; typedef_as &lt;type_alias&gt;`
</span><span style="color:#75715e"></span><span style="color:#75715e">#define typedef_as TYPEDEF_AS_(__##__LINE__)
</span><span style="color:#75715e"></span>
</code></pre></div><p>What this code does basically is to declare a static method method which returns the specified type. Then it takes this method’s decltype to start a typedef statement which you only need to complete with the name of the type alias. It uses the <strong>LINE</strong> macro to create a unqiue name for the static helper method.</p>
<p>Caveats:</p>
<p>you should not use it in multiple header files outside of a class as naming conflicts can occur if you have two headerfiles and define the typedef at the same line and the namespace is the same.
Feel free to use it (no dependencies, public domain) wherever you want. I’m always happy for feedback and upvotes :)</p>


                

                <hr>
                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/post/cppdynamicobject/" data-toggle="tooltip" data-placement="top" title="Dynamic Object in C&#43;&#43;">&larr;
                            Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/post/cpprenameablenamespaces/" data-toggle="tooltip" data-placement="top" title="Renameable Namespaces using the Preprocessor">Next
                            Post &rarr;</a>
                    </li>
                    
                </ul>

                
<div id="disqus-comment"></div>



<script src="https://utteranc.es/client.js"
repo="toeb/devblog"
issue-term="pathname"
label="comment"
theme="github-light"
crossorigin="anonymous"
async>
</script>





            </div>
            
            <div class="
                col-lg-11 col-lg-offset-1
                col-md-10 col-md-offset-1
                sidebar-container">

                
                
                <section>
                    <hr class="hidden-sm hidden-xs">
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
                        
                        
                        
                        
                        
                        
                        
                        <a href="/tags/c&#43;&#43;" title="c&#43;&#43;">
                            c&#43;&#43;
                        </a>
                        
                        
                        
                        
                        
                        <a href="/tags/cmake" title="cmake">
                            cmake
                        </a>
                        
                        
                        
                        <a href="/tags/cmakepp" title="cmakepp">
                            cmakepp
                        </a>
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                    </div>
                </section>
                

                
                
            </div>
        </div>
    </div>
</article>




<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                   
                   <li>
                       <a href='' rel="alternate" type="application/rss+xml" title="toeb&#39;s Blog" >
                           <span class="fa-stack fa-lg">
                               <i class="fa fa-circle fa-stack-2x"></i>
                               <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                           </span>
                       </a>
                   </li>
                   
                    
                    <li>
                        <a href="mailto:redacted@gmail.com">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		    
                    
                    
                    
                    

                    

		    
                    
                    
                    <li>
                        <a target="_blank" href="https://github.com/toeb">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		    
                    
                    
                    
                    <li>
                        <a target="_blank" href="https://www.linkedin.com/in/tobias-becker-a64475a3/">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		    
                    
                    
                    <li>
                        <a target="_blank" href="https://stackoverflow.com/users/1229468/toeb">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-stack-overflow fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
            
                    
                    <li>
                        <a target="_blank" href="https://www.reddit.com/user/toebi">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-reddit fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
            
                    
                    
            
            
            
                </ul>
		<p class="copyright text-muted">
                    Copyright &copy; toeb&#39;s Blog 2021
                    <br>
                    <a href="https://themes.gohugo.io/hugo-theme-cleanwhite">CleanWhite Hugo Theme</a> by <a href="https://zhaohuabing.com">Huabing</a> |
                    <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="100px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=zhaohuabing&repo=hugo-theme-cleanwhite&type=star&count=true" >
                    </iframe>
                </p>
            </div>
        </div>
    </div>
</footer>




<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>






<script>
    
    if($('#tag_cloud').length !== 0){
        async("/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>


<script>
    async("https://cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>






</body>
</html>
